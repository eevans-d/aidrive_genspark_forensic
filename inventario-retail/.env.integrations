# =============================================================================
# CONFIGURACIÓN DE INTEGRACIONES - SISTEMA INVENTARIO ARGENTINO
# Template de configuración para integraciones AFIP y e-commerce
# =============================================================================

# =============================================================================
# CONFIGURACIÓN AFIP - FACTURACIÓN ELECTRÓNICA
# =============================================================================

# Datos de la empresa
AFIP_CUIT=20-12345678-9
AFIP_RAZON_SOCIAL=TU EMPRESA SA

# Ambiente AFIP (testing/production)
AFIP_AMBIENTE=testing
AFIP_WSFE_URL_TESTING=https://wswhomo.afip.gov.ar/wsfev1/service.asmx
AFIP_WSFE_URL_PRODUCTION=https://servicios1.afip.gov.ar/wsfev1/service.asmx

# Certificados AFIP (rutas a los archivos)
AFIP_CERTIFICADO_PATH=certificates/afip_cert.pem
AFIP_CLAVE_PRIVADA_PATH=certificates/afip_key.pem
AFIP_PASSPHRASE=tu_passphrase_opcional

# Configuración de servicios AFIP
AFIP_SERVICIO=wsfe
AFIP_TIMEOUT_SEGUNDOS=30
AFIP_MAX_REINTENTOS=3

# Puntos de venta autorizados (separados por coma)
AFIP_PUNTOS_VENTA=1,2,3

# =============================================================================
# CONFIGURACIÓN MERCADOLIBRE - E-COMMERCE
# =============================================================================

# Credenciales de la aplicación ML
ML_APP_ID=1234567890123456
ML_CLIENT_SECRET=AbCdEfGhIjKlMnOpQrStUvWxYz
ML_REDIRECT_URI=https://tudominio.com/ml/callback

# Tokens de acceso ML
ML_ACCESS_TOKEN=APP_USR-1234567890123456-abcdef-ghijklmnopqrstuvwxyz123456-987654321
ML_REFRESH_TOKEN=TG-abcdef1234567890abcdef1234567890abcdef12

# Configuración de API ML
ML_API_BASE_URL=https://api.mercadolibre.com
ML_RATE_LIMIT_REQUESTS=3000
ML_RATE_LIMIT_PERIOD=3600
ML_TIMEOUT_SEGUNDOS=30

# ID del vendedor ML
ML_SELLER_ID=123456789

# Configuración de sincronización
ML_SYNC_STOCK_ACTIVO=true
ML_SYNC_PRECIOS_ACTIVO=true
ML_SYNC_ORDENES_ACTIVO=true
ML_SYNC_PREGUNTAS_ACTIVO=true

# =============================================================================
# CONFIGURACIÓN DE NOTIFICACIONES
# =============================================================================

# Email notifications
EMAIL_ENABLED=true
EMAIL_SMTP_SERVER=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=tu_email@gmail.com
EMAIL_PASSWORD=tu_app_password
EMAIL_FROM=sistema@tuempresa.com
EMAIL_TO_ERRORS=admin@tuempresa.com
EMAIL_TO_REPORTS=reportes@tuempresa.com

# Slack notifications
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX
SLACK_CANAL_COMPLIANCE=#compliance
SLACK_CANAL_AFIP_SYNC=#afip-sync
SLACK_CANAL_ECOMMERCE_SYNC=#ecommerce-sync

# =============================================================================
# CONFIGURACIÓN DE SCHEDULERS
# =============================================================================

# Compliance Scheduler
COMPLIANCE_SCHEDULER_ACTIVO=true
COMPLIANCE_REPORTE_IVA_ACTIVO=true
COMPLIANCE_DECLARACION_JURADA_ACTIVA=true
COMPLIANCE_BACKUP_FACTURAS_ACTIVO=true
COMPLIANCE_VERIFICACION_AFIP_ACTIVA=true
COMPLIANCE_AUDITORIA_STOCK_ACTIVA=true

# AFIP Sync Scheduler
AFIP_SYNC_SCHEDULER_ACTIVO=true
AFIP_SYNC_FACTURAS_INTERVALO=15
AFIP_SYNC_VALIDACION_CAES_INTERVALO=30
AFIP_SYNC_PUNTOS_VENTA_INTERVALO=120
AFIP_SYNC_PADRON_INTERVALO=360
AFIP_SYNC_BACKUP_INTERVALO=60

# E-commerce Sync Scheduler
ECOMMERCE_SYNC_SCHEDULER_ACTIVO=true
ECOMMERCE_SYNC_STOCK_INTERVALO=10
ECOMMERCE_SYNC_PRECIOS_INTERVALO=30
ECOMMERCE_SYNC_ORDENES_INTERVALO=5
ECOMMERCE_SYNC_PUBLICACIONES_INTERVALO=60
ECOMMERCE_SYNC_PREGUNTAS_INTERVALO=15
ECOMMERCE_SYNC_BACKUP_INTERVALO=120

# =============================================================================
# CONFIGURACIÓN DE LOGGING
# =============================================================================

# Logging para integraciones
LOG_LEVEL_INTEGRATIONS=INFO
LOG_FILE_AFIP=logs/afip_integration.log
LOG_FILE_ECOMMERCE=logs/ecommerce_integration.log
LOG_FILE_COMPLIANCE=logs/compliance.log

# Rotación de logs
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# =============================================================================
# CONFIGURACIÓN DE ALMACENAMIENTO
# =============================================================================

# Directorios para backups y reportes
BACKUP_DIR=backups
REPORTES_DIR=reportes
AUDITORIAS_DIR=auditorias

# Configuración de retención
BACKUP_RETENTION_DAYS=90
REPORTES_RETENTION_DAYS=365

# =============================================================================
# CONFIGURACIÓN DE SEGURIDAD
# =============================================================================

# Encriptación de datos sensibles
ENCRYPTION_KEY=tu_clave_de_encriptacion_32_caracteres
ENCRYPTION_ALGORITHM=AES

# Configuración de acceso
API_KEY_INTEGRATIONS=tu_api_key_para_integraciones
WEBHOOK_SECRET=tu_secreto_para_webhooks

# =============================================================================
# CONFIGURACIÓN DE MONITOREO
# =============================================================================

# Health checks
HEALTH_CHECK_AFIP_ENABLED=true
HEALTH_CHECK_ML_ENABLED=true
HEALTH_CHECK_INTERVAL_MINUTES=5

# Métricas
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Alertas
ALERT_THRESHOLD_ERROR_RATE=0.05
ALERT_THRESHOLD_RESPONSE_TIME_MS=5000

# =============================================================================
# CONFIGURACIÓN DE TESTING
# =============================================================================

# Configuración para testing y desarrollo
TESTING_MODE=false
MOCK_AFIP_ENABLED=false
MOCK_MERCADOLIBRE_ENABLED=false

# Datos de testing
TESTING_CUIT=20-12345678-9
TESTING_ML_SELLER_ID=123456789

# =============================================================================
# CONFIGURACIÓN AVANZADA
# =============================================================================

# Pool de conexiones
CONNECTION_POOL_SIZE=10
CONNECTION_TIMEOUT=30

# Cache
CACHE_ENABLED=true
CACHE_TTL_SECONDS=300

# Retry policy
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_SECONDS=2
RETRY_BACKOFF_MULTIPLIER=2

# =============================================================================
# NOTAS DE CONFIGURACIÓN
# =============================================================================

# 1. AFIP Certificados:
#    - Generar certificado digital en AFIP
#    - Convertir a formato PEM
#    - Guardar en directorio certificates/
#    - Configurar permisos restrictivos (600)

# 2. MercadoLibre:
#    - Crear aplicación en developers.mercadolibre.com
#    - Obtener App ID y Client Secret
#    - Generar tokens de acceso con scopes necesarios
#    - Configurar webhook endpoints si es necesario

# 3. Email SMTP:
#    - Para Gmail: usar App Passwords, no contraseña normal
#    - Verificar que SMTP esté habilitado
#    - Configurar firewall para puerto SMTP

# 4. Slack:
#    - Crear aplicación Slack
#    - Generar webhook URL
#    - Crear canales específicos para notificaciones

# 5. Schedulers:
#    - Intervalos en minutos
#    - Considerar horarios de negocio para tareas pesadas
#    - Monitorear performance y ajustar según necesidad

# 6. Logs:
#    - Crear directorios de logs antes de iniciar
#    - Configurar logrotate en sistema operativo
#    - Monitorear espacio en disco

# 7. Backups:
#    - Configurar directorios con permisos adecuados
#    - Implementar estrategia de backup offsite
#    - Probar restauración periódicamente

# 8. Seguridad:
#    - Usar variables de entorno para secretos en producción
#    - Rotar claves periódicamente
#    - Auditar accesos regularmente

# =============================================================================
# VARIABLES DE ENTORNO ADICIONALES PARA PRODUCCIÓN
# =============================================================================

# Descomenta y configura para producción:

# DATABASE_URL=postgresql://user:pass@localhost:5432/inventory_db
# REDIS_URL=redis://localhost:6379/0
# MONITORING_ENDPOINT=https://monitoring.tuempresa.com/webhook
# SENTRY_DSN=https://your-dsn@sentry.io/project-id
