# =================================================================
# CONFIGURACIÓN DE PRODUCCIÓN - SISTEMA INVENTARIO RETAIL
# =================================================================
# Copiar a .env.production y configurar valores reales

# -----------------------------
# DATABASE CONFIGURATION
# -----------------------------
POSTGRES_DB=inventario_retail
POSTGRES_USER=retail_user
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD
DATABASE_URL=postgresql://retail_user:CHANGE_ME_SECURE_PASSWORD@postgres:5432/inventario_retail

# -----------------------------
# REDIS CONFIGURATION  
# -----------------------------
REDIS_URL=redis://redis:6379

# -----------------------------
# JWT SECURITY (R2 Mitigation: Per-Agent Secrets)
# -----------------------------
# Global fallback (backward compatible - used if agent-specific secrets not set)
JWT_SECRET_KEY=CHANGE_ME_VERY_SECURE_RANDOM_KEY_256_BITS
JWT_EXPIRATION_HOURS=8

# Agent-specific JWT secrets (RECOMMENDED for production isolation)
# If not set, will fallback to JWT_SECRET_KEY
# Generate with: openssl rand -base64 32
JWT_SECRET_DEPOSITO=CHANGE_ME_DEPOSITO_SECRET_256_BITS
JWT_SECRET_NEGOCIO=CHANGE_ME_NEGOCIO_SECRET_256_BITS
JWT_SECRET_ML=CHANGE_ME_ML_SECRET_256_BITS
JWT_SECRET_DASHBOARD=CHANGE_ME_DASHBOARD_SECRET_256_BITS

# -----------------------------
# CORS CONFIGURATION
# -----------------------------
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# -----------------------------
# DASHBOARD API KEYS
# -----------------------------
DASHBOARD_API_KEY=CHANGE_ME_DASHBOARD_API_KEY
DASHBOARD_UI_API_KEY=CHANGE_ME_UI_API_KEY

# -----------------------------
# LOGGING CONFIGURATION
# -----------------------------
LOG_LEVEL=INFO
LOG_PATH=/app/logs

# -----------------------------
# SERVICE URLS (Internal)
# -----------------------------
AGENTE_DEPOSITO_URL=http://agente-deposito:8001
AGENTE_NEGOCIO_URL=http://agente-negocio:8002
ML_PREDICTOR_URL=http://ml-service:8003

# -----------------------------
# DASHBOARD CONFIGURATION
# -----------------------------
DASHBOARD_ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com
DASHBOARD_FORCE_HTTPS=true
DASHBOARD_CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# -----------------------------
# PERFORMANCE TUNING
# -----------------------------
GUNICORN_WORKERS=4
GUNICORN_TIMEOUT=120
REDIS_MAX_CONNECTIONS=100

# -----------------------------
# MONITORING & OBSERVABILITY
# -----------------------------
ENABLE_METRICS=true
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# -----------------------------
# BACKUP CONFIGURATION
# -----------------------------
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# -----------------------------
# OCR CONFIGURATION (R3 Mitigation)
# -----------------------------
OCR_TIMEOUT_SECONDS=30

# -----------------------------
# ML CONFIGURATION (R4 Mitigation)
# -----------------------------
# Tasa de inflación mensual como decimal (ej: 0.045 = 4.5%)
# Crítico para Argentina: ajustar según datos INDEC/BCRA sin redeploy
# Referencia: https://www.indec.gob.ar/indec/web/Nivel4-Tema-3-5-31
INFLATION_RATE_MONTHLY=0.045

# -----------------------------
# AFIP INTEGRATION (Opcional)
# -----------------------------
AFIP_CUIT=
AFIP_CERT_PATH=/app/certs/afip.crt
AFIP_KEY_PATH=/app/certs/afip.key
AFIP_ENVIRONMENT=production  # o testing

# -----------------------------
# ALERT CONFIGURATION
# -----------------------------
ALERT_EMAIL=admin@yourdomain.com
SMTP_HOST=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USER=noreply@yourdomain.com
SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD

# -----------------------------
# TIMEZONE
# -----------------------------
TZ=America/Argentina/Buenos_Aires